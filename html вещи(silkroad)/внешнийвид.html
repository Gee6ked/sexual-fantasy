<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Toggle Info with Leaflet Map and Reverse Geocoding</title>
    <style>
        /* Общие стили */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: white;
            color: gray;
            height: 100vh;
            display: flex;
            justify-content: flex-start;
            align-items: stretch;
        }

        .layout {
            display: flex;
            width: 100%;
            height: 100%;
        }

        .sidebar {
            width: 250px;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: flex-start;
            padding: 20px;
            background: none;
        }

        .main-content {
            flex-grow: 1;
            height: 100%;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            align-items: center; 
        }

        .logo img {
            width: 200px;
            margin-bottom: 20px;
            cursor: pointer;
        }

        .menu {
            flex-grow: 0;
            margin-bottom: 20px;
            width: 100%;
        }

        .menu a {
            display: block;
            font-size: 53px;
            font-weight: bold;
            text-transform: uppercase;
            color: gray;
            text-decoration: none;
            margin: 1px 0;
            transition: color 0.3s ease;
        }

        .menu a:hover {
            color: black;
        }

        footer {
            width: 100%;
        }

        footer .social {
            display: flex;
            gap: 10px;
            justify-content: flex-start;
        }

        footer .social a img {
            width: 20px;
            height: 20px;
            filter: grayscale(100%);
            opacity: 0.7;
        }

        footer p {
            font-size: 18px;
            color: gray;
            margin-top: 10px;
        }

        footer a {
            color: gray;
            text-decoration: none;
            margin: 0 5px;
            transition: color 0.3s;
            cursor: pointer;
        }

        footer a:hover {
            color: black;
        }

        .tab-content {
            display: none;
            margin-bottom: 20px;
            width: 100%;
        }

        .tab-content.active {
            display: block;
        }

        .tab-content p {
            font-size: 18px;
            color: #555;
            line-height: 1.6;
            display: none; 
        }

        .music-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px; 
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .album {
            position: relative;
            cursor: pointer;
            text-align: center; 
        }

        .album-cover {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 10px;
            display: block;
        }

        .album-title {
            margin-top: 10px;
            font-size: 20px;
            color: black;
        }

        /* Новые стили для вкладки Hobbies */
        .hobby-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 20px;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }

        .hobby-item {
            background-color: #f9f9f9;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            display: flex;
            align-items: center;
            padding: 20px;
            width: 100%;
            max-width: 800px;
        }

        .hobby-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
        }

        .hobby-item img {
            width: 200px;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
        }

        .hobby-details {
            display: flex;
            flex-direction: column;
            justify-content: center;
            margin-left: 20px;
            text-align: left;
        }

        .hobby-title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .hobby-description {
            font-size: 16px;
            color: #555;
        }

        /* Стили для модальных окон */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background-color: white;
            padding: 30px 25px;
            border-radius: 15px;
            width: 90%;
            max-width: 700px;
            position: relative;
            transform: scale(0.8);
            animation: scaleUp 0.3s ease-in-out forwards;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            text-align: left;
            max-height: 80vh;
            overflow-y: auto;
        }

        @keyframes scaleUp {
            from { transform: scale(0.8); }
            to { transform: scale(1); }
        }

        .modal-content .modal-title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
            color: #333;
        }

        .modal-content .modal-description {
            font-size: 16px;
            color: #777;
            margin-bottom: 20px;
            text-align: center;
        }

        .modal-content label {
            display: block;
            margin: 10px 0 5px;
            font-weight: bold;
            color: #333;
            font-size: 14px;
        }

        .modal-content input {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 7px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .modal-content input:focus {
            border-color: rgb(128, 128, 128);
        }

        .modal-content button {
            width: 100%;
            background-color: rgb(128, 128, 128);
            color: white;
            padding: 12px;
            border: none;
            border-radius: 7px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: background-color 0.3s ease, transform 0.2s ease;
            margin-top: 10px;
        }

        .modal-content button:hover {
            background-color: rgb(128, 128, 128);
            transform: translateY(-2px);
        }

        .close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 1.8em;
            cursor: pointer;
            color: #333;
            transition: color 0.3s;
        }

        .close:hover {
            color: rgb(128, 128, 128);
        }

        .grey-button {
            width: 100%;
            background-color: rgb(128, 128, 128);
            color: white;
            padding: 12px;
            border: none;
            border-radius: 7px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.3s ease, transform 0.2s ease;
            margin-top: 20px;
        }

        .grey-button:hover {
            background-color: rgb(128, 128, 128);
            transform: translateY(-2px);
        }

        .confirm-location-button {
            background-color: #28a745;
            color: #fff;
            padding: 12px;
            border: none;
            border-radius: 7px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin-top: 10px;
            width: 100%;
            text-align: center;
        }

        .confirm-location-button:hover {
            background-color: #218838;
        }

        #map {
            width: 100%;
            height: 400px;
            margin-top: 20px;
        }

        .video-section {
            max-width: 800px;
            margin: 0 auto;
        }

        .video-section h1 {
            font-size: 28px;
            color: white;
            margin-bottom: 20px;
            text-align: center;
        }

        .video-item {
            position: relative;
            margin-bottom: 40px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center; 
        }

        .video-item img {
            width: 100%;
            max-width: 800px; 
            height: auto;
            border-radius: 10px;
            display: block;
        }

        .play-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 64px;
            height: 64px;
            background: rgba(0,0,0,0.6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .play-icon:before {
            content: '';
            border-style: solid;
            border-width: 16px 0 16px 26px;
            border-color: transparent transparent transparent #fff;
            margin-left: 4px;
        }

        .video-title {
            margin-top: 10px;
            font-size: 18px;
            color: black;
            text-align: center;
        }

        #videoModal .modal-content {
            background: #000; 
            padding: 0;
            border-radius: 10px;
            box-shadow: none;
        }

        #videoModal .close {
            color: #fff;
            top: 10px;
            right: 20px;
        }

        #videoModal iframe {
            width: 100%;
            height: 450px;
            border: none;
            display: block;
        }

        #artistInfoModal .modal-content {
            max-width: 700px;
        }

        #artistInfoModal img {
            width: 100%;
            height: auto;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        #artistInfoModal .artist-description {
            font-size: 18px;
            color: #333;
        }

        /* Стили для игры */
        #game {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #mario-game-container {
            position: relative;
            width: 800px;
            height: 600px;
            border: 2px solid #000;
            background-color: #5c94fc; 
            overflow: hidden;
            display: none; /* Изначально скрываем игру */
        }

        canvas {
            background-color: #5c94fc;
        }

        /* Адаптивность для планшетов */
        @media (max-width: 900px) {
            .music-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 30px; 
            }

            .menu a {
                font-size: 28px;
            }

            #mario-game-container {
                width: 100%;
                height: auto;
            }

            canvas {
                width: 100%;
                height: auto;
            }
        }

        /* Адаптивность для мобильных устройств */
        @media (max-width: 600px) {
            .music-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .menu a {
                font-size: 24px;
            }

            #mario-game-container {
                width: 100%;
                height: auto;
            }

            canvas {
                width: 100%;
                height: auto;
            }

            .hobby-item img {
                width: 150px;
                height: 150px;
            }
            .hobby-title {
                font-size: 18px;
            }

            .hobby-description {
                font-size: 14px;
            }

            /* Стили для Info вкладки на мобильных */
            .profile-photo {
                width: 150px;
                height: 150px;
            }

            .pet-photo {
                width: 120px;
                height: 120px;
            }

            .info-title {
                font-size: 20px;
            }

            .info-text {
                font-size: 16px;
            }
        }

        /* Дополнительные стили для Info вкладки */
        .info-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
        }

        .profile-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            width: 100%;
        }

        .profile-photo {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid #ccc;
        }

        .info-details {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            text-align: center;
        }

        .info-title {
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }

        .info-text {
            font-size: 18px;
            color: #555;
            max-width: 800px;
        }

        .pet-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            text-align: center;
        }

        .pet-photo {
            width: 150px;
            height: 150px;
            border-radius: 10px;
            object-fit: cover;
            border: 3px solid #ccc;
        }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>
    <div class="layout">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <img src="https://www.liluziofficial.com/sites/g/files/g2000019221/files/2024-10/Logo_ForSite_New.gif" alt="Logo" onclick="handleLogoClick()">
            </div>
            <div class="menu">
                <a href="#" onclick="showTab('music')">My Favorite</a>
                <a href="#" onclick="showTab('videos')">Clips</a>
                <a href="#" onclick="showTab('merch')">Hobbies</a>
                <a href="#" onclick="showTab('game')">Game</a>
                <a href="#" onclick="showTab('info')">Info</a>
            </div>
            <footer>
                <div class="social">
                    <a href="https://t.me/Gee6ked" target="_blank">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram">
                    </a>
                    <a href="https://instagram.com/gee6ked" target="_blank">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram">
                    </a>
                </div>
                <p>&copy; 2024 SILK ROAD</p>
                <p>
                    <a onclick="openPrivacyModal()">Privacy policy</a> | 
                    <a onclick="openTermsModal()">Terms of use</a>
                </p>
            </footer>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="tab-content" id="music">
                <div class="music-grid">
                    <div class="album" data-artist="Kai Cenat">
                        <img class="album-cover" src="https://i.ytimg.com/vi/Oz0e3XDR6lo/maxresdefault.jpg" alt="Kai Cenat">
                        <div class="album-title">Kai Cenat</div>
                    </div>
                    <div class="album" data-artist="Lil Uzi Vert">
                        <img class="album-cover" src="https://bestbeat.ru/uploads/posts/2022-02/tsn.jpg" alt="Lil Uzi Vert">
                        <div class="album-title">Lil Uzi Vert</div>
                    </div>
                    <div class="album" data-artist="Kanye West">
                        <img class="album-cover" src="https://cdn.iz.ru/sites/default/files/styles/900x506/public/news-2020-08/20200209_zea_s181_659.jpg?itok=YUeoNNbF" alt="Kanye West">
                        <div class="album-title">Kanye West</div>
                    </div>
                    <div class="album" data-artist="Bradley Cooper">
                        <img class="album-cover" src="https://static.kinoafisha.info/upload/news/915756135130.jpg" alt="Bradley Cooper">
                        <div class="album-title">Bradley Cooper</div>
                    </div>
                    <div class="album" data-artist="Yung Lean">
                        <img class="album-cover" src="https://steamuserimages-a.akamaihd.net/ugc/924804593842500243/E095E66ABEB88B116A942642B19B19A8199D0D1F/?imw=512&imh=341&ima=fit&impolicy=Letterbox&imcolor=%23000000&letterbox=true" alt="Yung Lean">
                        <div class="album-title">Yung Lean</div>
                    </div>
                    <div class="album" data-artist="Rich Amiri">
                        <img class="album-cover" src="https://is1-ssl.mzstatic.com/image/thumb/Video122/v4/da/01/c2/da01c207-f4b7-9bc2-c3ca-f075848d1291/22UM1IM26913.crop.jpg/1200x630mv.jpg" alt="Rich Amiri">
                        <div class="album-title">Rich Amiri</div>
                    </div>
                    <div class="album" data-artist="Ken Carson">
                        <img class="album-cover" src="https://is1-ssl.mzstatic.com/image/thumb/AMCArtistImages116/v4/52/94/61/5294617e-4daf-b96a-e838-4201e60d10d6/79eea5b6-c8a2-4533-bd7e-27da6747fe91_ami-identity-c69552623e317c869410e267f9ccf8fa-2023-10-17T18-10-12.091Z_cropped.png/725x725bb.webp" alt="Ken Carson">
                        <div class="album-title">Ken Carson</div>
                    </div>
                    <div class="album" data-artist="PLOHOYPAREN">
                        <img class="album-cover" src="https://i1.sndcdn.com/artworks-z556jIG6tNtZNpz8-RgFdCA-t500x500.jpg" alt="PLOHOYPAREN">
                        <div class="album-title">PLOHOYPAREN</div>
                    </div>
                    <div class="album" data-artist="Platina">
                        <img class="album-cover" src="https://avatars.mds.yandex.net/i?id=6f5ac121786fbf8e32605cbdaa238032_l-4557789-images-thumbs&n=13" alt="Platina">
                        <div class="album-title">Платина</div>
                    </div>
                </div>
            </div>
            <div class="tab-content" id="videos">
                <div class="video-section">
                    <h1>Videos</h1>
                    <div class="video-item" onclick="openVideoModal('https://www.youtube.com/embed/bnFa4Mq5PAM')">
                        <img src="https://i.ytimg.com/vi/bnFa4Mq5PAM/maxresdefault.jpg" alt="Video Preview">
                        <div class="play-icon"></div>
                        <div class="video-title">Lil Uzi Vert - 20 Min</div>
                    </div>
                    <div class="video-item" onclick="openVideoModal('https://www.youtube.com/embed/2NzuR5OLvnQ')">
                        <img src="https://i.ytimg.com/vi/2NzuR5OLvnQ/maxresdefault.jpg" alt="Video Preview">
                        <div class="play-icon"></div>
                        <div class="video-title">Lil Uzi Vert - Red Moon</div>
                    </div>
                    <div class="video-item" onclick="openVideoModal('https://www.youtube.com/embed/UhbixyxgsiU')">
                        <img src="https://i.ytimg.com/vi/UhbixyxgsiU/maxresdefault.jpg" alt="Video Preview">
                        <div class="play-icon"></div>
                        <div class="video-title">Lil Uzi Vert - Just Wanna Rock</div>
                    </div>
                    <div class="video-item" onclick="openVideoModal('https://www.youtube.com/embed/KnumAWWWgUE')">
                        <img src="https://i.ytimg.com/vi/KnumAWWWgUE/maxresdefault.jpg" alt="Video Preview">
                        <div class="play-icon"></div>
                        <div class="video-title">Playboi Carti - Sky</div>
                    </div>
                    <div class="video-item" onclick="openVideoModal('https://www.youtube.com/embed/QAVgopi7Cds')">
                        <img src="https://i.ytimg.com/vi/QAVgopi7Cds/maxresdefault.jpg" alt="Video Preview">
                        <div class="play-icon"></div>
                        <div class="video-title">PLOHOYPAREN - Таблетка</div>
                    </div>
                    <div class="video-item" onclick="openVideoModal('https://www.youtube.com/watch?v=3-NtgBC0Mi8')">
                        <img src="https://i.ytimg.com/vi/qBUqdvaoV04/maxresdefault.jpg?sqp=-oaymwEmCIAKENAF8quKqQMa8AEB-AH-CYAC0AWKAgwIABABGH8gPCgeMA8=&rs=AOn4CLBtJOsfyce55oqkQpUvGvCNAsP0dQ" alt="Video Preview">
                        <div class="play-icon"></div>
                        <div class="video-title">Платина,White Punk - Навсегда</div>
                    </div>
                    <div class="video-item" onclick="openVideoModal('https://www.youtube.com/embed/ukdJUk864pY')">
                        <img src="https://i.ytimg.com/vi/ukdJUk864pY/maxresdefault.jpg" alt="Video Preview">
                        <div class="play-icon"></div>
                        <div class="video-title">COD10 - Juice</div>
                    </div>
                    <div class="video-item" onclick="openVideoModal('https://www.youtube.com/embed/7LImCpIhBAk')">
                        <img src="https://i.ytimg.com/vi/7LImCpIhBAk/maxresdefault.jpg?sqp=-oaymwEmCIAKENAF8quKqQMa8AEB-AH-CYAC0AWKAgwIABABGHIgTyg_MA8=&rs=AOn4CLAgAmY1RPy6x-qM66EcvboPrJtR_A" alt="Video Preview">
                        <div class="play-icon"></div>
                        <div class="video-title">Rich Amiri - AMIRI TRENDSETTER</div>
                    </div>
                    <div class="video-item" onclick="openVideoModal('https://www.youtube.com/embed/6F39DFEC8F6')">
                        <img src="https://steamuserimages-a.akamaihd.net/ugc/179414147126768930/6F39DFEC8F6DF5931177C2197619EEAA0B1A4844/?imw=512&imh=287&ima=fit&impolicy=Letterbox&imcolor=%23000000&letterbox=true" alt="Video Preview">
                        <div class="play-icon"></div>
                        <div class="video-title">A$AP Rocky - L$D </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальные окна -->
    <div id="modal" class="modal">
        <div class="modal-content" id="modalContent">
            <!-- Содержимое модалки регистрации/профиля -->
        </div>
    </div>

    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePrivacyModal()">&times;</span>
            <h2>Privacy Policy</h2>
            <p><strong>Effective Date:</strong> December 14, 2024</p>
            <ol>
                <li><strong>Information Collection</strong>
                    <ul>
                        <li>We collect information you provide during registration, including username, email address, and password.</li>
                        <li>Additionally, we may collect location data when you use the map on our site.</li>
                    </ul>
                </li>
                <li><strong>Use of Information</strong>
                    <ul>
                        <li>The collected data is used to provide and improve our services.</li>
                        <li>Your data helps us personalize content, make recommendations, and ensure account security.</li>
                    </ul>
                </li>
                <li><strong>Data Storage</strong>
                    <ul>
                        <li>We store your information in secure databases and take measures to prevent unauthorized access.</li>
                        <li>Data is retained until you decide to delete your account.</li>
                    </ul>
                </li>
                <li><strong>Sharing Information with Third Parties</strong>
                    <ul>
                        <li>We do not share your personal information with third parties without your consent, except as required by law.</li>
                        <li>Partner organizations may access your data only to the extent necessary to provide services.</li>
                    </ul>
                </li>
                <li><strong>Data Security</strong>
                    <ul>
                        <li>We use modern encryption and security methods to protect your data.</li>
                        <li>Regular audits and updates to security systems are conducted.</li>
                    </ul>
                </li>
                <li><strong>Cookies</strong>
                    <ul>
                        <li>Our site uses cookies to enhance user experience and analyze traffic.</li>
                        <li>You can manage cookie settings in your browser.</li>
                    </ul>
                </li>
                <li><strong>Links to Third-Party Resources</strong>
                    <ul>
                        <li>Our site may contain links to third-party resources. We are not responsible for their privacy policies.</li>
                        <li>We recommend reviewing their policies before providing personal information.</li>
                    </ul>
                </li>
                <li><strong>Age Restrictions</strong>
                    <ul>
                        <li>Our services are intended for users aged 13 and older.</li>
                        <li>We do not knowingly collect information from children under 13.</li>
                    </ul>
                </li>
                <li><strong>Policy Changes</strong>
                    <ul>
                        <li>We reserve the right to update this Privacy Policy at any time.</li>
                        <li>Changes take effect upon publication on the website.</li>
                    </ul>
                </li>
                <li><strong>Contact Information</strong>
                    <ul>
                        <li>If you have questions or suggestions regarding our Privacy Policy, please contact us at <a href="mailto:sheglov.andrejka@yandex">sheglov.andrejka@yandex</a>.</li>
                    </ul>
                </li>
            </ol>
        </div>
    </div>

    <!-- Terms of Use Modal -->
    <div id="termsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeTermsModal()">&times;</span>
            <h2>Terms of Use</h2>
            <p><strong>Effective Date:</strong> December 14, 2024</p>
            <ol>
                <li><strong>Acceptance of Terms</strong>
                    <ul>
                        <li>By using our site, you agree to these Terms of Use.</li>
                        <li>If you do not agree with these terms, please do not use our site.</li>
                    </ul>
                </li>
                <li><strong>Changes to Terms</strong>
                    <ul>
                        <li>We reserve the right to modify the Terms of Use at any time.</li>
                        <li>Changes take effect upon publication on the website.</li>
                    </ul>
                </li>
                <li><strong>Registration and Account</strong>
                    <ul>
                        <li>Users must provide accurate and up-to-date information during registration.</li>
                        <li>You are responsible for maintaining the confidentiality of your password and account.</li>
                    </ul>
                </li>
                <li><strong>Content Use</strong>
                    <ul>
                        <li>All content on the site is protected by copyright and may not be used without permission.</li>
                        <li>Copying, distributing, or modifying site content without proper authorization is prohibited.</li>
                    </ul>
                </li>
                <li><strong>Prohibited Activities</strong>
                    <ul>
                        <li>Using the site for illegal purposes, spreading malware, or spamming is prohibited.</li>
                        <li>Attempts to hack or gain unauthorized access to the system are strictly prohibited.</li>
                    </ul>
                </li>
                <li><strong>Liability</strong>
                    <ul>
                        <li>We are not responsible for any damages arising from the use or inability to use the site.</li>
                        <li>Users are responsible for the content they post on the site.</li>
                    </ul>
                </li>
                <li><strong>Termination of Use</strong>
                    <ul>
                        <li>We reserve the right to terminate a user's access to the site for violating the Terms of Use.</li>
                        <li>Users can delete their accounts at any time.</li>
                    </ul>
                </li>
                <li><strong>Links to Third-Party Sites</strong>
                    <ul>
                        <li>Our site may contain links to third-party resources. We are not responsible for their content or privacy policies.</li>
                        <li>By following such links, you agree to their terms of use.</li>
                    </ul>
                </li>
                <li><strong>Privacy</strong>
                    <ul>
                        <li>Our Privacy Policy governs the collection and use of your personal data.</li>
                        <li>Using the site implies consent to the Privacy Policy.</li>
                    </ul>
                </li>
                <li><strong>Governing Law</strong>
                    <ul>
                        <li>These Terms of Use are governed by the laws of the Russian Federation.</li>
                        <li>All disputes arising in connection with the use of the site shall be resolved in the courts at the company's location.</li>
                    </ul>
                </li>
            </ol>
        </div>
    </div>

    <div id="videoModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeVideoModal()">&times;</span>
            <iframe src="" allowfullscreen></iframe>
        </div>
    </div>

    <div id="artistInfoModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeArtistInfoModal()">&times;</span>
            <div class="modal-title" id="artistName">Artist Name</div>
            <img id="artistImage" src="" alt="Artist Image">
            <div class="artist-description" id="artistDescription">Brief information about the artist.</div>
        </div>
    </div>

    <!-- Telegram WebApp Script -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Инициализация Telegram WebApp
        const tg = window.Telegram.WebApp;

        // Готовность WebApp
        tg.ready();

        // Получение данных пользователя
        const user = tg.initDataUnsafe.user;

        // Флаги и данные пользователя
        let isRegistered = false;
        let userData = {};
        let selectedLocation = null;
        let map, marker;

        let lastSelectedTab = null;  
        let infoVisibleMap = {
            music: false,
            videos: false,
            merch: false,
            game: false,
            info: false
        };

        const artistInfo = {
            "Kai Cenat": {
                "image": "https://s.yimg.com/ny/api/res/1.2/G_qIOmAD7ucEf5A6XaoDbQ--/YXBwaWQ9aGlnaGxhbmRlcjt3PTk2MDtoPTcyMA--/https://media.zenfs.com/en/insider_articles_922/46501b74228509bf79e0e65f9381e965",
                "description": "Kai Cenat is a widely recognized YouTube and Twitch streamer known for his entertaining content, comedic skits, and engaging live streams. He has built a loyal fanbase with his charismatic personality and creative approach to content creation. Kai often collaborates with other prominent creators and has become a cultural icon within the online streaming community."
            },
            "Lil Uzi Vert": {
                "image": "https://i.ytimg.com/vi/ejhkUexvn9M/maxresdefault.jpg?sqp=-oaymwEmCIAKENAF8quKqQMa8AEB-AHUBoAC4AOKAgwIABABGGAgZShHMA8=&rs=AOn4CLCHgFp_MTitTJgIFbNNRvYKGZJASQ",
                "description": "Lil Uzi Vert is a highly influential American rapper and singer, known for his unique style, vibrant personality, and chart-topping hits like 'XO TOUR Llif3.' With his eccentric fashion sense and genre-blending music, Lil Uzi Vert has redefined modern hip-hop, garnering a massive global following and critical acclaim for his creativity and innovation in the industry."
            },
            "Kanye West": {
                "image": "https://avatars.mds.yandex.net/i?id=d2644e69ac93802a5ae1b5e89d42e1f0_l-5151057-images-thumbs&n=13",
                "description": "Kanye West, also known as Ye, is an iconic American rapper, producer, and entrepreneur. As one of the most influential figures in music history, Kanye has revolutionized hip-hop with groundbreaking albums like 'The College Dropout' and 'My Beautiful Dark Twisted Fantasy.' Beyond music, Kanye is a fashion mogul and cultural visionary, shaping trends and sparking conversations worldwide."
            },
            "Bradley Cooper": {
                "image": "https://media.zenfs.com/en/cnn_articles_875/6f74951abb69df56a2d98db34bc2b791",
                "description": "Bradley Cooper is an acclaimed American actor and filmmaker, celebrated for his roles in films like 'Silver Linings Playbook,' 'A Star is Born,' and 'American Sniper.' Known for his versatile acting skills and dedication to his craft, Cooper has earned numerous awards and nominations, solidifying his place as one of Hollywood's most respected talents."
            },
            "Yung Lean": {
                "image": "https://i.ytimg.com/vi/AbSSch--j1I/maxresdefault.jpg",
                "description": "Yung Lean is a groundbreaking Swedish rapper, singer, and producer, widely regarded as a pioneer in the 'cloud rap' genre. Emerging from the underground scene, Yung Lean gained international fame with hits like 'Ginseng Strip 2002' and his unique, melancholic style. He remains a key figure in modern alternative hip-hop, influencing countless artists worldwide."
            },
            "Rich Amiri": {
                "image": "https://4shomag.com/wp-content/uploads/2023/03/Untitled-1000x600.jpg",
                "description": "Rich Amiri is a rising star in the music industry, known for his catchy melodies and genre-bending tracks. With a fresh approach to songwriting and production, Rich Amiri has quickly gained attention as one of the most promising new talents. His dedication to his craft and innovative sound make him a name to watch in the coming years."
            },
            "Ken Carson": {
                "image": "https://i.ytimg.com/vi/c51LMU8Bvj0/maxresdefault.jpg",
                "description": "Ken Carson is a dynamic artist making waves in the music scene. Known for his high-energy performances and unique sound, he is quickly carving out his space in the industry. Fans are drawn to his bold approach to music, blending genres and pushing boundaries, making him a standout among emerging musicians."
            },
            "PLOHOYPAREN": {
                "image": "https://i.ytimg.com/vi/9Ea9DNA9Rd4/maxresdefault.jpg",
                "description": "PLOHOYPAREN is a rising music artist recognized for their emotive and introspective tracks. With a growing fanbase, their music resonates deeply with listeners, blending personal storytelling with captivating beats. PLOHOYPAREN is on a path to establish themselves as a significant voice in modern music."
            },
            "Platina": {
                "image": "https://aif-s3.aif.ru/images/036/711/971d53a6e43ff450af7911857039c68a.png",
                "description": "Platina is a talented artist gaining recognition in the music world for their distinctive sound and compelling lyrics. Their ability to connect with audiences through relatable themes and innovative production makes them a standout talent in today's competitive music landscape."
            }
        };

        // Открытие/закрытие модалок
        function openModal() {
            if (!isRegistered) {
                restoreRegistrationForm(); // Заполнение содержимого формы регистрации
            } else {
                showUserData(); // Показываем данные пользователя
            }
            document.getElementById('modal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        function openPrivacyModal() {
            document.getElementById('privacyModal').style.display = 'flex';
        }

        function closePrivacyModal() {
            document.getElementById('privacyModal').style.display = 'none';
        }

        function openTermsModal() {
            document.getElementById('termsModal').style.display = 'flex';
        }

        function closeTermsModal() {
            document.getElementById('termsModal').style.display = 'none';
        }

        function openVideoModal(videoUrl) {
            const modal = document.getElementById('videoModal');
            const iframe = modal.querySelector('iframe');
            iframe.src = videoUrl;
            modal.style.display = 'flex';
        }

        function closeVideoModal() {
            const modal = document.getElementById('videoModal');
            modal.style.display = 'none';
            const iframe = modal.querySelector('iframe');
            iframe.src = '';
        }

        function openArtistInfoModal(artistName) {
            const modal = document.getElementById('artistInfoModal');
            const nameElement = document.getElementById('artistName');
            const imageElement = document.getElementById('artistImage');
            const descriptionElement = document.getElementById('artistDescription');

            const info = artistInfo[artistName];
            if (info) {
                nameElement.textContent = artistName;
                imageElement.src = info.image;
                imageElement.alt = artistName;
                descriptionElement.textContent = info.description;
                modal.style.display = 'flex';
            } else {
                alert('Информация об этом артисте недоступна.');
            }
        }

        function closeArtistInfoModal() {
            document.getElementById('artistInfoModal').style.display = 'none';
        }

        // Регистрация
        function handleRegistration(event) {
            event.preventDefault();
            const username = document.getElementById('username').value;
            const email = document.getElementById('emailInput').value;
            const password = document.getElementById('password').value;

            userData = { username, email };
            isRegistered = true;

            // Сохраняем данные в localStorage
            localStorage.setItem('isRegistered', 'true');
            localStorage.setItem('userData', JSON.stringify(userData));

            alert('Регистрация успешна!');
            showMapAfterRegistration();

            // Отправка данных в бот
            sendDataToBot({
                type: 'registration',
                data: userData
            });
        }

        function sendDataToBot(payload) {
            tg.sendData(JSON.stringify(payload));
        }

        function showMapAfterRegistration() {
            const form = document.getElementById('registrationForm');
            form.style.display = 'none';

            const modalTitle = document.getElementById('modalTitle');
            modalTitle.textContent = "Выбор локации";

            const modalDescription = document.getElementById('modalDescription');
            modalDescription.textContent = "Выберите локацию на карте Франции:";

            document.getElementById('map').style.display = 'block';
            document.querySelector('.confirm-location-button').style.display = 'block';

            initMap();
        }

        function initMap() {
            map = L.map('map').setView([46.2276, 2.2137], 6);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                attribution: '© OpenStreetMap contributors'
            }).addTo(map);

            map.on('click', function(e) {
                placeMarker(e.latlng);
            });

            if (userData.location) {
                const latlng = userData.location;
                marker = L.marker([latlng.lat, latlng.lng]).addTo(map);
                map.setView([latlng.lat, latlng.lng], 10);
            }
        }

        function placeMarker(latlng) {
            if (marker) {
                map.removeLayer(marker);
            }
            marker = L.marker(latlng).addTo(map);
            selectedLocation = { lat: latlng.lat, lng: latlng.lng };
        }

        async function confirmLocation() {
            if (selectedLocation) {
                userData.location = selectedLocation;
                const url = `https://nominatim.openstreetmap.org/reverse?lat=${selectedLocation.lat}&lon=${selectedLocation.lng}&format=jsonv2`;
                try {
                    const response = await fetch(url);
                    const data = await response.json();
                    if (data && data.display_name) {
                        userData.locationAddress = data.display_name;
                    } else {
                        userData.locationAddress = 'Адрес не найден';
                    }
                } catch (error) {
                    userData.locationAddress = 'Ошибка определения адреса';
                }

                localStorage.setItem('userData', JSON.stringify(userData));

                alert(`Локация выбрана: ${selectedLocation.lat}, ${selectedLocation.lng}\nАдрес: ${userData.locationAddress}`);
                closeModal();

                // Отправка данных в бот
                sendDataToBot({
                    type: 'location',
                    data: {
                        coordinates: selectedLocation,
                        address: userData.locationAddress
                    }
                });
            } else {
                alert('Сначала выберите локацию на карте.');
            }
        }

        function handleLogoClick() {
            if (isRegistered) {
                showUserData();
            } else {
                openModal(); // Теперь openModal сам вызывает restoreRegistrationForm
            }
        }

        function showUserData() {
            let locationInfo = '';
            if (userData.location) {
                locationInfo = `<br><strong>Локация (координаты):</strong> ${userData.location.lat}, ${userData.location.lng}`;
                if (userData.locationAddress) {
                    locationInfo += `<br><strong>Адрес:</strong> ${userData.locationAddress}`;
                }
            }

            document.getElementById('modalContent').innerHTML = `
                <span class="close" onclick="closeModal()">&times;</span>
                <div class="modal-title">Добро пожаловать!</div>
                <div class="modal-description">
                    Вы успешно зарегистрированы.<br><br>
                    <strong>Имя пользователя:</strong> ${userData.username}<br>
                    <strong>Email:</strong> ${userData.email}
                    ${locationInfo}
                </div>
                <button class="grey-button" onclick="logout()">Выйти из аккаунта</button>
            `;
            openModal();
        }

        function logout() {
            isRegistered = false;
            userData = {};
            selectedLocation = null;

            localStorage.removeItem('isRegistered');
            localStorage.removeItem('userData');

            alert('Вы вышли из аккаунта.');
            closeModal();
            restoreRegistrationForm();

            // Отправка данных в бот
            sendDataToBot({
                type: 'logout'
            });
        }

        function restoreRegistrationForm() {
            document.getElementById('modalContent').innerHTML = `
                <span class="close" onclick="closeModal()">&times;</span>
                <div class="modal-title" id="modalTitle">Регистрация</div>
                <div class="modal-description" id="modalDescription">Создайте аккаунт, чтобы получить доступ к эксклюзивному контенту.</div>
                <form id="registrationForm" onsubmit="handleRegistration(event)">
                    <label for="username">Имя пользователя</label>
                    <input type="text" id="username" placeholder="Введите имя пользователя" required>
                    <label for="emailInput">Электронная почта</label>
                    <input type="email" id="emailInput" placeholder="Введите email" required>
                    <label for="password">Пароль</label>
                    <input type="password" id="password" placeholder="Введите пароль" required>
                    <button type="submit">Зарегистрироваться</button>
                </form>
                <div id="map" style="display:none;"></div>
                <button class="confirm-location-button" style="display:none;" onclick="confirmLocation()">Подтвердить локацию</button>
            `;
        }

        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
                const p = tab.querySelector('p');
                if (p) p.style.display = 'none';
            });
            document.getElementById(tabId).classList.add('active');

            // Показываем игру, если выбрана вкладка "game"
            if (tabId === 'game') {
                document.getElementById('mario-game-container').style.display = 'block';
                initializeGame();
            } else {
                // Скрываем игру при переключении на другие вкладки
                if (document.getElementById('mario-game-container')) {
                    document.getElementById('mario-game-container').style.display = 'none';
                }
            }

            if (tabId !== lastSelectedTab) {
                infoVisibleMap[tabId] = false; 
                lastSelectedTab = tabId;
            } else {
                toggleInfo(tabId);
            }
        }

        function toggleInfo(tabId) {
            const tab = document.getElementById(tabId);
            const paragraph = tab.querySelector('p');
            if (paragraph) {
                if (infoVisibleMap[tabId]) {
                    paragraph.style.display = 'none';
                    infoVisibleMap[tabId] = false;
                } else {
                    paragraph.style.display = 'block';
                    infoVisibleMap[tabId] = true;
                }
            }
        }

        // Инициализация игры
        let gameInitialized = false;
        function initializeGame() {
            if (gameInitialized) return;
            gameInitialized = true;

            const canvas = document.getElementById('gameCanvas');
            if (!canvas) return; // Если нет canvas, выходим

            const ctx = canvas.getContext('2d');

            const gravity = 0.7;
            const friction = 0.9;
            const keys = {};

            const player = {
                x: 100,
                y: 500,
                width: 50,
                height: 50,
                color: 'red',
                dx: 0,
                dy: 0,
                speed: 10,
                jumping: false
            };

            const platforms = [
                {x: 0, y: 550, width: 800, height: 50},
                {x: 150, y: 450, width: 100, height: 20},
                {x: 300, y: 350, width: 100, height: 20},
                {x: 450, y: 250, width: 100, height: 20},
                {x: 600, y: 350, width: 100, height: 20},
                {x: 750, y: 450, width: 100, height: 20},
            ];

            window.addEventListener('keydown', function(e) {
                keys[e.code] = true;
            });

            window.addEventListener('keyup', function(e) {
                keys[e.code] = false;
            });

            function update() {
                if (keys['ArrowRight'] || keys['KeyD']) {
                    player.dx = player.speed;
                } else if (keys['ArrowLeft'] || keys['KeyA']) {
                    player.dx = -player.speed;
                } else {
                    player.dx *= friction;
                }

                if ((keys['ArrowUp'] || keys['KeyW'] || keys['Space']) && !player.jumping) {
                    player.dy = -12;
                    player.jumping = true;
                }

                player.dy += gravity;

                player.x += player.dx;
                player.y += player.dy;

                if (player.x < 0) player.x = 0;
                if (player.x + player.width > canvas.width) player.x = canvas.width - player.width;
                if (player.y + player.height > canvas.height) {
                    player.y = canvas.height - player.height;
                    player.dy = 0;
                    player.jumping = false;
                }

                platforms.forEach(platform => {
                    if (
                        player.x < platform.x + platform.width &&
                        player.x + player.width > platform.x &&
                        player.y + player.height < platform.y + platform.height &&
                        player.y + player.height + player.dy >= platform.y
                    ) {
                        player.y = platform.y - player.height;
                        player.dy = 0;
                        player.jumping = false;
                    }
                });

                ctx.clearRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = player.color;
                ctx.fillRect(player.x, player.y, player.width, player.height);

                ctx.fillStyle = 'green';
                platforms.forEach(platform => {
                    ctx.fillRect(platform.x, platform.y, platform.width, platform.height);
                });

                requestAnimationFrame(update);
            }

            update();
        }

        document.addEventListener('DOMContentLoaded', () => {
            const storedIsRegistered = localStorage.getItem('isRegistered');
            const storedUserData = localStorage.getItem('userData');

            if (storedIsRegistered === 'true' && storedUserData) {
                isRegistered = true;
                userData = JSON.parse(storedUserData);
            }
            const albums = document.querySelectorAll('.album');
            albums.forEach(album => {
                album.addEventListener('click', () => {
                    const artistName = album.getAttribute('data-artist');
                    openArtistInfoModal(artistName);
                });
            });

            // Если пользователь уже зарегистрирован, показываем его данные при загрузке страницы
            if (isRegistered) {
                showUserData();
            }
        });

        // Обработка событий от Telegram бота
        tg.onEvent('mainButtonClicked', () => {
            openModal();
        });

        tg.onEvent('data', (event) => {
            const payload = JSON.parse(event.data);
            // Обработка данных, полученных от WebApp
            console.log('Received data from WebApp:', payload);
            // Добавьте здесь логику обработки данных
            // Например, вы можете отправить эти данные на ваш сервер для дальнейшей обработки
        });
    </script>
</body>
</html>